<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: feed.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: feed.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * A collection of articles with a name.
 *
 * @typedef {Object} Feed
 * @property {string} name the name of the feed
 * @property {Article[]} articles the articles for the feed
 */

/**
 * A list of articles from a specific feed.
 */
class FeedView extends View {

  /**
   * Constructs a new view with the provided article view and articles.
   *
   * @param {string} name the name of the feed
   * @param {ArticleView} articleView the view to use when rendering an article
   * @param {Article[]} articles the articles to use when rendering
   */
  constructor(name, articleView, articles) {
    super();

    this.name = name;
    this.articleView = articleView;
    this.articles = articles;

    // Cache commonly used selectors / elements.
    this.$content = this.$element.find('.feed__articles');
    this.$button = this.$element.find('.feed__button[data-action="toggle"]');

    this.listen({ 'click .feed__header': 'headerClick' });
  }

  /**
   * Callback for header click.
   *
   * &lt;p>
   *   This hides the content if it is visible and shows the content if it is
   *   not.
   * &lt;/p>
   *
   * @returns {undefined}
   * @private
   */
  headerClick() {
    const visible = this.$content.finish().is(':visible');

    if (visible) {
      this.hide();
    } else {
      this.show();
    }
  }

  /**
   * Renders the feed into the class's element.
   *
   * @returns {FeedView} the current view for chaining calls
   */
  render() {
    // Set the header text to the name of the feed.
    this.$element.find('.feed__header :header').text(this.name);

    // Wipe the current content.
    this.$content.html('');

    // Render each article as a FeedArticleView and append it to the content.
    this.articles.forEach(article =>
      this.$content.append(
        new FeedArticleView(this.articleView, article).render().$element));

    return this;
  }

  /**
   * Hides the feed content (leaving only heading).
   *
   * @param {boolean} animated whether or not to animate the hiding of the
   *                           content
   * @returns {undefined}
   */
  hide(animated = true) {
    this.$button.html('&amp;plus;');

    if (animated) {
      this.$content.slideUp();
    } else {
      this.$content.hide();
    }
  }

  /**
   * Shows the feed content.
   *
   * @param {boolean} animated whether or not to animate the showing of the
   *                           content
   * @returns {undefined}
   */
  show(animated = true) {
    this.$button.html('&amp;minus;');

    if (animated) {
      this.$content.slideDown();
    } else {
      this.$content.show();
    }
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ArticleView.html">ArticleView</a></li><li><a href="FeedArticleView.html">FeedArticleView</a></li><li><a href="FeedView.html">FeedView</a></li><li><a href="MainView.html">MainView</a></li><li><a href="View.html">View</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Sat Dec 03 2016 01:38:22 GMT+0000 (GMT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
