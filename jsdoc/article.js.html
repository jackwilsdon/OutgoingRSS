<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: article.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: article.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * A single article.
 *
 * @typedef {Object} Article
 * @property {string} title the title of the article
 * @property {string} date the date the article was published
 * @property {string} description the description of the article
 * @property {string} link the link to the article
 * @property {?Article} previous the previous article
 * @property {?Article} next the next article
 */

/**
 * A modal view of a single article.
 *
 * @constructor
 * @param {Article} article the article to use when rendering
 */
function ArticleView(article) {
  View.call(this);

  this.article = article;

  this.listen({
    'click': function(event) {
      if (event.target === this.element) {
        this.hide();
        event.preventDefault();
      }
    },
    'click .article__header': 'hide',
    'click .article__button[data-action="previous"]': 'clickPrevious',
    'click .article__button[data-action="next"]': 'clickNext',
  });
}

// Subclass View.
ArticleView.prototype = Object.create(View.prototype);
ArticleView.prototype.constructor = ArticleView;

/**
 * Callback for previous button.
 *
 * &lt;p>
 *   This changes the article to the previous article and re-renders the
 *   view.
 * &lt;/p>
 *
 * @private
 * @param {Event} event the click event for the previous button
 */
ArticleView.prototype.clickPrevious = function(event) {
  this.previous();
  event.preventDefault();
};

/**
 * Callback for next button.
 *
 * &lt;p>
 *   This changes the article to the previous article and re-renders the
 *   view.
 * &lt;/p>
 *
 * @private
 * @param {Event} event the click event for the next button
 */
ArticleView.prototype.clickNext = function(event) {
  this.next();
  event.preventDefault();
};

/**
 * Swaps the current article out for the previous article.
 *
 * &lt;p>
 *   If there is no previous article then nothing is changed.
 * &lt;/p>
 *
 * @param {boolean} [render=true] whether or not to call
 *                         {@link ArticleView#render} on the new article after
 *                         the article has changed
 */
ArticleView.prototype.previous = function(render) {
  if (this.article.previous !== null) {
    this.article = this.article.previous;

    if (arguments.length === 0 || render) {
      this.render();
    }
  }
};

/**
 * Swaps the current article out for the bext article.
 *
 * &lt;p>
 *   If there is no next article then nothing is changed.
 * &lt;/p>
 *
 * @param {boolean} [render=true] whether or not to call
 *                         {@link ArticleView#render} on the new article after
 *                         the article has changed
 */
ArticleView.prototype.next = function(render) {
  if (this.article.next !== null) {
    this.article = this.article.next;

    if (arguments.length === 0 || render) {
      this.render();
    }
  }
};

/**
 * Renders the article into the class's element.
 *
 * @returns {ArticleView} the current view for chaining calls
 */
ArticleView.prototype.render = function() {
  // Set the text of all h[1-6] elements to the article's title and date.
  this.$element
    .find('.article__header :header')
    .text(this.article.title + ' - ' + this.article.date);

  // Set the body of the modal to the article's description.
  this.$element
    .find('.article__content')
    .html(this.article.description);

  // Hide or show the previous button depending on whether or not the article
  // has a previous element.
  this.$element
    .find('.article__button[data-action="previous"]')
    .toggleClass('article__button--hidden', this.article.previous === null);

  // Hide or show the next button depending on whether or not the article has
  // a next element.
  this.$element
    .find('.article__button[data-action="next"]')
    .toggleClass('article__button--hidden', this.article.next === null);

  // Set the link for the view button.
  this.$element
    .find('.article__button[data-action="view"]')
    .attr('href', this.article.link);

  return this;
};

/**
 * Hides the article modal.
 *
 * @param {boolean} [animated=true] whether or not to animate the hiding of the
 *                                  modal
 */
ArticleView.prototype.hide = function(animated) {
  if (arguments.length === 0 || animated) {
    this.$element.fadeOut();
  } else {
    this.$element.hide();
  }
};

/**
 * Shows the article modal.
 *
 * @param {boolean} [animated=true] whether or not to animate the showing of
 *                                  the element
 * @param {boolean} [focus=true] whether or not to focus the element once it
 *                               has been made visible
 */
ArticleView.prototype.show = function(animated, focus) {
  if (arguments.length === 0 || animated) {
    this.$element.fadeIn();
  } else {
    this.$element.show();
  }

  if (arguments.length &lt;= 1 || focus) {
    // Focus the first button in the article (usually the close button).
    this.$element.find('.article__button').first().focus();
  }
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ArticleView.html">ArticleView</a></li><li><a href="FeedArticleView.html">FeedArticleView</a></li><li><a href="FeedView.html">FeedView</a></li><li><a href="MainView.html">MainView</a></li><li><a href="View.html">View</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
